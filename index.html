<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- Preconnect to external domains for faster loading -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
  <link rel="dns-prefetch" href="https://public.onlyfans.com">
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-3XB30HS12L"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-3XB30HS12L');
  </script>
  
  <!-- Google Search Console Verification -->
  <!-- <meta name="google-site-verification" content="YOUR_VERIFICATION_CODE_HERE"> -->
  
  <!-- Primary Meta Tags -->
  <title>Best OnlyFans Search Engine - Find OF Creators Fast | BestOnlyFansGirls</title>
  <meta name="title" content="Best OnlyFans Search Engine - Find OF Creators Fast | BestOnlyFansGirls">
  <meta name="description" content="Onlyfans search engine with 10k+ verified TOP models. Search and filter the best girls by category, location, price, and more.">
  <meta name="keywords" content="onlyfans search, onlyfans finder, best onlyfans, onlyfans girls, verified creators, onlyfans models, OF search engine">
  <meta name="author" content="BestOnlyFansGirls.net">
  <link rel="canonical" href="https://bestonlyfansgirls.net/">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://bestonlyfansgirls.net/">
  <meta property="og:title" content="Best OnlyFans Search Engine - Find OF Creators Fast">
  <meta property="og:description" content="Onlyfans search engine with 10k+ verified TOP models. Search and filter the best girls by category, location, price, and more.">
  <meta property="og:image" content="https://bestonlyfansgirls.net/og-image.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:site_name" content="BestOnlyFansGirls">
  
  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://bestonlyfansgirls.net/">
  <meta name="twitter:title" content="Best OnlyFans Search Engine - Find OF Creators Fast">
  <meta name="twitter:description" content="Onlyfans search engine with 10k+ verified TOP models. Search and filter the best girls by category, location, price, and more.">
  <meta name="twitter:image" content="https://bestonlyfansgirls.net/og-image.jpg">
  
  <!-- Robots & Indexing -->
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
  <meta name="googlebot" content="index, follow">
  
  <!-- Schema.org JSON-LD -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "WebSite",
        "@id": "https://bestonlyfansgirls.net/#website",
        "url": "https://bestonlyfansgirls.net/",
        "name": "BestOnlyFansGirls",
        "description": "OnlyFans search engine with 10k+ verified TOP models",
        "potentialAction": {
          "@type": "SearchAction",
          "target": {
            "@type": "EntryPoint",
            "urlTemplate": "https://bestonlyfansgirls.net/?q={search_term_string}"
          },
          "query-input": "required name=search_term_string"
        }
      },
      {
        "@type": "Organization",
        "@id": "https://bestonlyfansgirls.net/#organization",
        "name": "BestOnlyFansGirls.net",
        "url": "https://bestonlyfansgirls.net/",
        "logo": {
          "@type": "ImageObject",
          "url": "https://bestonlyfansgirls.net/og-image.jpg"
        },
        "sameAs": []
      },
      {
        "@type": "WebPage",
        "@id": "https://bestonlyfansgirls.net/#webpage",
        "url": "https://bestonlyfansgirls.net/",
        "name": "Best OnlyFans Search Engine - Find OF Creators Fast",
        "isPartOf": {
          "@id": "https://bestonlyfansgirls.net/#website"
        },
        "about": {
          "@id": "https://bestonlyfansgirls.net/#organization"
        },
        "description": "Onlyfans search engine with 10k+ verified TOP models. Search and filter the best girls by category, location, price, and more."
      }
    ]
  }
  </script>
  
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f5f5f7;
      color: #1d1d1f;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
    }
    .container {
      max-width: 1400px;
      margin-top: 40px;
      padding-bottom: 60px;
    }
    .card {
      background: white;
      color: #1d1d1f;
      border: none;
      border-radius: 20px;
      transition: all 0.3s ease;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      position: relative;
    }
    .card:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.12);
    }
    .card img {
      border-radius: 20px 20px 0 0;
      height: 360px;
      object-fit: cover;
      width: 100%;
      min-height: 360px;
      background: linear-gradient(90deg, #e8e8e8 25%, #f0f0f0 50%, #e8e8e8 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
    }
    @keyframes shimmer {
      0% { background-position: 200% 0; }
      100% { background-position: -200% 0; }
    }
    .favorite-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      background: white;
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.15);
      transition: all 0.2s ease;
      z-index: 10;
      font-size: 20px;
    }
    .favorite-btn:hover {
      transform: scale(1.1);
      background: #fff;
    }
    .view-profile-btn {
      background: #00bcd4;
      color: white;
      border: none;
      padding: 14px 28px;
      border-radius: 12px;
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      display: block;
      width: 100%;
      text-align: center;
      margin-top: 16px;
    }
    .view-profile-btn:hover {
      background: #00acc1;
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(0,188,212,0.3);
      color: white;
    }
    .card-body {
      padding: 20px;
    }
    .card h5 {
      font-size: 20px;
      font-weight: 700;
      margin-bottom: 4px;
      color: #1d1d1f;
    }
    .username {
      color: #666;
      font-size: 14px;
      margin-bottom: 8px;
    }
    .price-tag {
      color: #34c759;
      font-weight: 700;
      font-size: 18px;
    }
    .price-free {
      color: #34c759;
      font-weight: 700;
      font-size: 16px;
      text-transform: uppercase;
    }
    .bio-snippet {
      color: #666;
      font-size: 13px;
      line-height: 1.4;
      margin-top: 8px;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    h1 {
      color: #1d1d1f;
      font-weight: 800;
      margin-bottom: 8px;
    }
    .subtitle {
      color: #666;
      font-size: 18px;
      margin-bottom: 30px;
    }
    .form-control, .form-range {
      border-radius: 12px;
      border: 1px solid #e0e0e0;
      background: white;
    }
    .form-control:focus {
      border-color: #00bcd4;
      box-shadow: 0 0 0 3px rgba(0,188,212,0.1);
    }
    .error {
      color: #ff3b30;
      margin-top: 20px;
    }
    #status {
      color: #666;
      margin-top: 20px;
      font-size: 14px;
    }
    /* Search bar tweaks */
    .search-group { max-width: 860px; margin: 0 auto; }
    @media (min-width: 1200px) { .search-group { max-width: 780px; } }
    .search-group .form-control { border-radius: 9999px 0 0 9999px; }
    .search-group .btn-search { border-radius: 0 9999px 9999px 0; }
    .btn-search {
      background-color: #007aff;
      border-color: #007aff;
      color: #fff;
      font-weight: 700;
      box-shadow: 0 6px 18px rgba(0,122,255,0.35);
    }
    .btn-search:hover {
      background-color: #0062d9;
      border-color: #0062d9;
      box-shadow: 0 8px 22px rgba(0,122,255,0.45);
    }
    /* Back to top button */
    #backToTop {
      position: fixed;
      right: 16px;
      bottom: 80px;
      width: 48px;
      height: 48px;
      border-radius: 9999px;
      background: #007aff;
      color: #fff;
      border: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 6px 18px rgba(0,122,255,0.35);
      cursor: pointer;
      opacity: 0;
      pointer-events: none;
      transform: translateY(6px);
      transition: opacity .25s ease, transform .25s ease, background-color .2s ease;
      z-index: 1000;
    }
    #backToTop.visible { opacity: 1; pointer-events: auto; transform: translateY(0); }
    #backToTop:hover { background: #0062d9; }
    /* Filters layout */
    .filters { gap: 12px; }
    /* Prevent focus scroll on filter controls */
    .form-check-input, .form-range {
      scroll-margin: 0;
    }
    /* Sticky filters bar */
    .filters-container {
      position: sticky;
      top: 0;
      background: #f5f5f7;
      z-index: 100;
      padding: 16px 0;
      margin-bottom: 20px;
      transition: padding 0.2s ease;
      /* Prevent scroll chaining when interacting with controls */
      overscroll-behavior: contain;
      /* Isolate painting to reduce sticky-related scroll jitters */
      contain: paint;
    }
    .filters-container.scrolled {
      padding: 8px 0 6px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }
    /* Mobile: compact filters when scrolled */
    @media (max-width: 768px) {
      .filters-container.scrolled .filters { 
        flex-direction: column; 
        gap: 6px; 
        align-items: stretch !important;
      }
      .filters-container.scrolled .filters > div { width: 100%; justify-content: space-between; }
      .filters-container.scrolled .price-group { 
        flex-direction: row !important; 
        align-items: center !important;
        gap: 8px;
      }
      .filters-container.scrolled .price-group .form-label { margin-bottom: 0 !important; flex-shrink: 0; font-size: 14px; }
      .filters-container.scrolled .price-range { flex: 1; min-width: 100px; }
      .filters-container.scrolled .price-value { 
        flex-shrink: 0; 
        margin-left: 8px !important; 
        margin-top: 0 !important;
        align-self: center !important;
      }
    }
    /* Recent searches chips */
    .recent-searches {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      justify-content: center;
      margin-top: 12px;
      margin-bottom: 8px;
    }
    .search-chip {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 6px 14px;
      background: white;
      border: 1px solid #ddd;
      border-radius: 9999px;
      font-size: 13px;
      color: #555;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .search-chip:hover {
      background: #007aff;
      color: white;
      border-color: #007aff;
    }
    .search-chip .remove {
      font-size: 16px;
      opacity: 0.6;
      margin-left: 2px;
    }
    .search-chip:hover .remove { opacity: 1; }
    .price-group { display: flex; align-items: center; flex-wrap: nowrap; }
    .price-group .form-label { margin-bottom: 0; }
  .price-range { width: 180px; touch-action: pan-x; -ms-touch-action: pan-x; -webkit-user-select: none; user-select: none; }
    .price-value { display: inline-block; min-width: 44px; text-align: center; padding: 4px 10px; border-radius: 9999px; background: #e9f5ff; color: #007aff; font-weight: 700; }
    @media (min-width: 576px) { .price-range { width: 240px; } }
    @media (min-width: 992px) { .price-range { width: 300px; } }
    @media (max-width: 576px) {
      h1 { font-size: 28px; line-height: 1.15; }
      /* Stack label above slider on small screens */
      .price-group { flex-direction: column; align-items: stretch; }
      .price-group .form-label { margin-bottom: 6px; }
      .price-range { width: 100%; }
      .price-value { align-self: flex-end; margin-top: 6px; }
    }
    /* Very small screens: make Search button full width */
    @media (max-width: 400px) {
      .search-group .input-group { flex-wrap: wrap; }
      .search-group .form-control { border-radius: 9999px; }
      .search-group .btn-search { width: 100%; margin-top: 8px; border-radius: 9999px; }
    }
    /* Smaller card image on tiny devices */
    @media (max-width: 400px) {
      .card img { height: 320px; min-height: 320px; }
    }
    /* Load More Button */
    .load-more-btn {
      background: linear-gradient(135deg, #007aff 0%, #00aff0 100%);
      color: white;
      border: none;
      padding: 18px 48px;
      font-size: 18px;
      font-weight: 700;
      border-radius: 50px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 8px 24px rgba(0, 122, 255, 0.35);
      display: inline-flex;
      align-items: center;
      gap: 12px;
      position: relative;
      overflow: hidden;
    }
    .load-more-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s ease;
    }
    .load-more-btn:hover::before {
      left: 100%;
    }
    .load-more-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 32px rgba(0, 122, 255, 0.45);
    }
    .load-more-btn:active {
      transform: translateY(0);
      box-shadow: 0 6px 20px rgba(0, 122, 255, 0.3);
    }
    .load-more-btn .btn-icon {
      font-size: 24px;
      transition: transform 0.3s ease;
    }
    .load-more-btn:hover .btn-icon {
      transform: translateY(3px);
    }
    .load-more-btn:disabled {
      background: linear-gradient(135deg, #ccc 0%, #999 100%);
      cursor: not-allowed;
      box-shadow: none;
    }
    .load-more-btn:disabled:hover {
      transform: none;
    }
    @media (max-width: 576px) {
      .load-more-btn {
        padding: 16px 40px;
        font-size: 16px;
      }
    }
  </style>
</head>
<body>
  <div class="container text-center">
    <h1 class="mb-4" style="color:#00aff0; font-weight:800;">The Best Onlyfans Search Engine - Find OF Accounts FAST</h1>
    <p class="text-muted mb-4">Search and discover top OnlyFans creators by category, location, social account usernames (tiktok, ig), interests, and more. Bookmark your favorites.</p>

    <!-- Search bar -->
    <div class="mb-3 search-group">
      <div class="input-group input-group-lg">
        <input id="search" type="text" class="form-control" placeholder='Type: "milf" "Texas" "piercings"' aria-label="Search creators" inputmode="search" enterkeyhint="search" autocomplete="off" autocapitalize="none" spellcheck="false" />
        <button id="searchBtn" class="btn btn-search" type="button">Search</button>
      </div>
    </div>

    <!-- Recent searches -->
    <div id="recentSearches" class="recent-searches"></div>

    <!-- Filters (sticky) -->
    <div class="filters-container">
      <div class="d-flex justify-content-center align-items-center flex-wrap gap-3 filters">
        <div class="form-check form-switch">
          <input id="verified" type="checkbox" class="form-check-input me-2">
          <label for="verified" class="form-check-label me-4">Verified only</label>
        </div>

        <div class="form-check form-switch">
          <input id="bundles" type="checkbox" class="form-check-input me-2">
          <label for="bundles" class="form-check-label me-4">Bundle subscriptions</label>
        </div>

        <div class="price-group">
          <label for="price" class="form-label me-2">Max price ($)</label>
          <input id="price" type="range" class="form-range price-range" min="0" max="100" value="100" step="1">
          <span id="price-value" class="ms-2 price-value">100</span>
        </div>
      </div>
    </div>

    <!-- Results -->
    <div id="results" class="row g-3 justify-content-center"></div>
    <p id="error" class="error"></p>
    <p id="status" style="color: #888; margin-top: 10px; font-size: 14px;"></p>
    
    <!-- Load More Button -->
    <div id="loadMoreContainer" class="text-center my-4" style="display: none;">
      <button id="loadMoreBtn" class="load-more-btn">
        <span class="btn-text">Load More Creators</span>
        <span class="btn-icon">â†“</span>
      </button>
      <p id="loadedCount" class="mt-2" style="color: #888; font-size: 14px; margin-bottom: 0;"></p>
    </div>
    
    <!-- SEO Content Section -->
    <section class="mt-5 pt-5" style="max-width: 900px; margin-left: auto; margin-right: auto; text-align: left; border-top: 1px solid #e0e0e0;">
      <h2 style="color: #1d1d1f; font-weight: 700; font-size: 28px; margin-bottom: 20px;">Find the Best OnlyFans Creators - Free Search Engine</h2>
      
      <p style="color: #666; font-size: 16px; line-height: 1.7; margin-bottom: 20px;">
        Welcome to <strong>BestOnlyFansGirls.net</strong>, the leading <strong>OnlyFans search engine</strong> with over <strong>10,000 verified creators</strong>. Our platform helps fans discover and connect with their favorite <strong>OnlyFans models</strong> through advanced filtering options including categories, price ranges, verified status, bundle subscriptions, and more.
      </p>

      <h3 style="color: #1d1d1f; font-weight: 600; font-size: 22px; margin-bottom: 15px; margin-top: 30px;">How to Search for OnlyFans Creators</h3>
      
      <p style="color: #666; font-size: 16px; line-height: 1.7; margin-bottom: 15px;">
        Our <strong>OnlyFans finder</strong> makes it easy to search through thousands of profiles. Simply enter keywords like location (e.g., "Texas", "California"), categories (e.g., "fitness", "cosplay", "MILF"), or social media usernames (TikTok, Instagram) to find creators that match your interests.
      </p>

      <h3 style="color: #1d1d1f; font-weight: 600; font-size: 22px; margin-bottom: 15px; margin-top: 30px;">Filter by Price, Verified Status & More</h3>
      
      <ul style="color: #666; font-size: 16px; line-height: 1.8; margin-bottom: 20px;">
        <li><strong>Verified Models:</strong> Find only verified OnlyFans creators with the checkmark badge</li>
        <li><strong>Price Filtering:</strong> Search for free OnlyFans accounts or set your max subscription price</li>
        <li><strong>Bundle Subscriptions:</strong> Discover creators offering special bundle deals and discounts</li>
        <li><strong>Category Search:</strong> Filter by interests, location, body type, and other preferences</li>
      </ul>

      <h3 style="color: #1d1d1f; font-weight: 600; font-size: 22px; margin-bottom: 15px; margin-top: 30px;">Why Use Our OnlyFans Search Engine?</h3>
      
      <p style="color: #666; font-size: 16px; line-height: 1.7; margin-bottom: 20px;">
        Unlike OnlyFans' limited native search, our platform indexes <strong>10k+ OnlyFans girls</strong> and provides powerful search filters to help you find exactly what you're looking for. Whether you're searching for <strong>top OnlyFans creators</strong>, free accounts, or specific categories, our database is updated daily with the latest profiles.
      </p>

      <p style="color: #666; font-size: 16px; line-height: 1.7; margin-bottom: 20px;">
        Start your search now and discover the <strong>best OnlyFans girls</strong> matching your preferences. Our free OnlyFans search tool helps you explore verified creators, compare subscription prices, and find exclusive content from thousands of models worldwide.
      </p>
    </section>
    
    <!-- Back to top button -->
    <button id="backToTop" aria-label="Back to top" title="Back to top">â†‘</button>
  </div>

  <script>
    const searchInput = document.getElementById("search");
    const verifiedToggle = document.getElementById("verified");
    const bundlesToggle = document.getElementById("bundles");
    const priceRange = document.getElementById("price");
    const priceValue = document.getElementById("price-value");
    const resultsDiv = document.getElementById("results");
    const errorDiv = document.getElementById("error");
    const statusDiv = document.getElementById("status");
    const searchBtn = document.getElementById("searchBtn");
    const backToTopBtn = document.getElementById("backToTop");
    const recentSearchesDiv = document.getElementById("recentSearches");
    
    let currentPage = 1;
    const pageSize = 50;
    let isLoading = false;
    let hasMore = true;
    // Preserve scroll when interacting with sticky filters
    let savedScrollY = 0;
    
    function lockScroll() {
      savedScrollY = window.scrollY || window.pageYOffset || 0;
      console.log('Locked scroll at:', savedScrollY);
    }
    
    function restoreScroll() {
      if (savedScrollY > 0) {
        console.log('Restoring scroll to:', savedScrollY);
        // Use requestAnimationFrame to ensure DOM updates have completed
        requestAnimationFrame(() => {
          requestAnimationFrame(() => {
            window.scrollTo({ top: savedScrollY, left: 0, behavior: 'instant' });
          });
        });
      }
    }

    // Perform the API search
    async function performSearch(resetPage = true, append = false) {
      if (isLoading || (!hasMore && !resetPage)) return;
      isLoading = true;
      
      if (resetPage) {
        currentPage = 1;
        hasMore = true;
        // Preserve current results height to prevent layout jump while loading
        resultsDiv.style.minHeight = resultsDiv.offsetHeight + 'px';
        resultsDiv.innerHTML = "";
        
        // Reset Load More button state on new search
        if (loadMoreBtn) {
          loadMoreBtn.disabled = false;
          loadMoreBtn.querySelector('.btn-text').textContent = 'Load More Creators';
        }
        if (loadMoreContainer) loadMoreContainer.style.display = 'none';
      }
      
      const q = searchInput.value.trim();
      const verified = verifiedToggle.checked;
      const bundles = bundlesToggle.checked;
      const price = priceRange.value;

      // Save search to recent if not empty
      if (resetPage && q) saveRecentSearch(q);

      if (!append) resultsDiv.innerHTML = "";
      errorDiv.textContent = "";
      statusDiv.textContent = append ? "Loading more..." : "Searching...";

      try {
        // Build API URL - only include verified param if checkbox is checked
        let apiUrl = `/api/search?q=${encodeURIComponent(q)}&price=${price}&page=${currentPage}&page_size=${pageSize}`;
        if (verified) {
          apiUrl += '&verified=true';
        }
        if (bundles) {
          apiUrl += '&bundles=true';
        }
        console.log('Fetching:', apiUrl);
        statusDiv.textContent = `Loading page ${currentPage}...`;
        
        const response = await fetch(apiUrl);
        console.log('Response status:', response.status);
        statusDiv.textContent = `Response: ${response.status}`;
        
        if (!response.ok) {
          const errorText = await response.text();
          console.error('API error response:', errorText);
          statusDiv.textContent = `API Error: ${response.status}`;
          throw new Error(`HTTP error: ${response.status} - ${errorText}`);
        }

        // Safely parse response
        const text = await response.text();
        console.log('Response text length:', text.length);
        let data;
        try {
          data = JSON.parse(text);
          console.log('Parsed data:', data.length, 'results');
          statusDiv.textContent = `Got ${data.length} results from API`;
        } catch (err) {
          console.error("Invalid JSON from backend:", text);
          statusDiv.textContent = "Invalid JSON from server";
          throw new Error("Invalid JSON from server");
        }

        if (!Array.isArray(data)) {
          console.error("Unexpected API data:", data);
          errorDiv.textContent = "Invalid data format.";
          statusDiv.textContent = "Data is not an array";
          isLoading = false;
          resultsDiv.style.minHeight = '';
          restoreScroll();
          return;
        }

        if (data.length === 0) {
          console.warn('API returned 0 results for query:', { q, verified, price });
          resultsDiv.innerHTML = `<p class='text-muted'>No results found. Try adjusting filters or search term.</p>`;
          statusDiv.textContent = "0 results - try different search";
          isLoading = false;
          hasMore = false;
          resultsDiv.style.minHeight = '';
          updateLoadMoreButton(); // Hide Load More button when no results
          restoreScroll();
          return;
        }

        console.log('Rendering', data.length, 'results');
        statusDiv.textContent = `Rendering ${data.length} results...`;

        // Render cards
        data.forEach(item => {
          // Use full avatar for best quality
          const img = item.avatar || item.avatar_c144 || "";
          const imgSrc = img && img.startsWith("http") ? img : "/static/no-image.png";
          
          const name = item.name || "Unknown";
          const username = item.username || "â€”";
          const priceText = (item.subscribePrice && !isNaN(item.subscribePrice))
            ? `$${parseFloat(item.subscribePrice).toFixed(2)}`
            : "FREE";
          const verifiedIcon = item.isVerified ? "âœ… " : "";
          const location = item.location || "";
          const bio = item.about || "";
          const profileUrl = username !== "â€”" ? `https://onlyfans.com/${username}` : "#";

          const col = document.createElement("div");
          col.className = "col-sm-6 col-md-4 col-lg-3 mb-4";
          col.innerHTML = `
            <div class="card h-100">
              <button class="favorite-btn" onclick="event.preventDefault();">
                <span style="color: #ccc;">â™¡</span>
              </button>
              <img src="${imgSrc}" 
                   alt="${name}" 
                   width="270" 
                   height="360"
                   loading="lazy" 
                   referrerpolicy="no-referrer" 
                   onerror="if(this.src!='/static/no-image.png'){this.src='/static/no-image.png';}"
                   onload="if(this.naturalWidth<=10||this.naturalHeight<=10){this.parentElement.parentElement.remove();}">
              <div class="card-body">
                <h5>${verifiedIcon}${name}</h5>
                <p class="username">@${username}</p>
                ${priceText === "FREE" 
                  ? `<p class="price-free">${priceText}</p>` 
                  : `<p class="price-tag">${priceText}</p>`}
                ${bio ? `<p class="bio-snippet">${bio}</p>` : ''}
                <a href="${profileUrl}" target="_blank" rel="noopener noreferrer" class="view-profile-btn">
                  View Profile
                </a>
              </div>
            </div>`;
          resultsDiv.appendChild(col);
        });
        
        statusDiv.textContent = `Showing ${resultsDiv.children.length} results`;
        hasMore = data.length === pageSize;
        
        isLoading = false;
        resultsDiv.style.minHeight = '';
        restoreScroll();
        
        // Update Load More button state (this will hide statusDiv if needed)
        updateLoadMoreButton();
      } catch (err) {
        console.error("Frontend error:", err);
        errorDiv.textContent = "Error loading results.";
        statusDiv.textContent = `Error: ${err.message}`;
        isLoading = false;
        resultsDiv.style.minHeight = '';
        restoreScroll();
        
        // Hide Load More on error
        if (loadMoreContainer) loadMoreContainer.style.display = 'none';
      }
    }
    
    // Recent searches management
    const MAX_RECENT = 5;
    function getRecentSearches() {
      try {
        return JSON.parse(localStorage.getItem('recentSearches') || '[]');
      } catch {
        return [];
      }
    }
    function saveRecentSearch(query) {
      if (!query || query.trim().length === 0) return;
      let recent = getRecentSearches();
      recent = recent.filter(s => s !== query); // remove duplicates
      recent.unshift(query); // add to front
      recent = recent.slice(0, MAX_RECENT); // keep max 5
      localStorage.setItem('recentSearches', JSON.stringify(recent));
      renderRecentSearches();
    }
    function removeRecentSearch(query) {
      let recent = getRecentSearches();
      recent = recent.filter(s => s !== query);
      localStorage.setItem('recentSearches', JSON.stringify(recent));
      renderRecentSearches();
    }
    function renderRecentSearches() {
      const recent = getRecentSearches();
      if (recent.length === 0) {
        recentSearchesDiv.innerHTML = '';
        return;
      }
      recentSearchesDiv.innerHTML = recent.map(q => 
        `<div class="search-chip" onclick="applyRecentSearch('${q.replace(/'/g, "\\'")}')">
          <span>${q}</span>
          <span class="remove" onclick="event.stopPropagation(); removeRecentSearch('${q.replace(/'/g, "\\'")}')">&times;</span>
        </div>`
      ).join('');
    }
    function applyRecentSearch(query) {
      searchInput.value = query;
      performSearch(true);
    }
    // Render on load
    renderRecentSearches();

    // Compact filters on scroll (mobile)
    const filtersContainer = document.querySelector('.filters-container');
    window.addEventListener('scroll', () => {
      if (window.scrollY > 100) {
        filtersContainer?.classList.add('scrolled');
      } else {
        filtersContainer?.classList.remove('scrolled');
      }
    });

    // Load More Button functionality (replaces infinite scroll)
    const loadMoreContainer = document.getElementById('loadMoreContainer');
    const loadMoreBtn = document.getElementById('loadMoreBtn');
    const loadedCountEl = document.getElementById('loadedCount');
    
    function updateLoadMoreButton() {
      const totalLoaded = resultsDiv.children.length;
      const statusDiv = document.getElementById('status');
      
      if (hasMore && totalLoaded > 0) {
        loadMoreContainer.style.display = 'block';
        loadedCountEl.textContent = `Showing ${totalLoaded} creators`;
        // Hide the status text only after results are loaded
        if (statusDiv) statusDiv.style.display = 'none';
        
        // After 200 results, add motivational message
        if (totalLoaded >= 200) {
          loadedCountEl.textContent = `You've explored ${totalLoaded} creators! ðŸ”¥`;
        }
      } else if (totalLoaded > 0 && !hasMore) {
        loadMoreContainer.style.display = 'block';
        loadMoreBtn.disabled = true;
        loadMoreBtn.querySelector('.btn-text').textContent = 'All Results Loaded';
        loadedCountEl.textContent = `You've seen all ${totalLoaded} matching creators`;
        // Hide the status text
        if (statusDiv) statusDiv.style.display = 'none';
      } else {
        loadMoreContainer.style.display = 'none';
        // Show status text when no Load More button (loading/error states)
        if (statusDiv) statusDiv.style.display = 'block';
      }
    }
    
    if (loadMoreBtn) {
      loadMoreBtn.addEventListener('click', () => {
        if (isLoading || !hasMore) return;
        currentPage++;
        performSearch(false, true);
      });
    }

    // Back to top toggle
    window.addEventListener('scroll', () => {
      if (!backToTopBtn) return;
      if (window.scrollY > 600) backToTopBtn.classList.add('visible');
      else backToTopBtn.classList.remove('visible');
    });
    if (backToTopBtn) {
      backToTopBtn.addEventListener('click', () => {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    }

    // Debounced search
    let searchTimeout;
    searchInput.addEventListener("input", () => {
      clearTimeout(searchTimeout);
      searchTimeout = setTimeout(() => performSearch(true), 400);
    });
    // Trigger search on Enter key
    searchInput.addEventListener("keydown", (e) => {
      if (e.key === "Enter") {
        e.preventDefault();
        performSearch(true);
      }
    });

    // Mark interaction early to preserve scroll
    verifiedToggle.addEventListener("pointerdown", lockScroll);
    verifiedToggle.addEventListener("touchstart", lockScroll, { passive: true });
    verifiedToggle.addEventListener("change", () => { lockScroll(); performSearch(true); });

    bundlesToggle.addEventListener("pointerdown", lockScroll);
    bundlesToggle.addEventListener("touchstart", lockScroll, { passive: true });
    bundlesToggle.addEventListener("change", () => { lockScroll(); performSearch(true); });
    if (searchBtn) {
      // Search button does not alter scroll intentionally
      searchBtn.addEventListener("click", () => performSearch(true));
    }
    // Update value live while dragging, but search only on release to avoid jank
    priceRange.addEventListener("pointerdown", lockScroll);
    priceRange.addEventListener("touchstart", lockScroll, { passive: true });
    priceRange.addEventListener("input", () => {
      priceValue.textContent = priceRange.value;
    });
    priceRange.addEventListener("change", () => { lockScroll(); performSearch(true); });

    // Initial load - load popular models
    statusDiv.textContent = "Loading popular creators...";
    performSearch(true);
  </script>

  <!-- Footer -->
  <footer class="text-center mt-5 pb-4" style="color: #666; font-size: 14px;">
    <p class="mb-2">Â© 2025 BestOnlyFansGirls.net - Find the best OnlyFans creators</p>
    <p class="mb-0">9,500+ verified creators â€¢ Updated daily</p>
  </footer>
</body>
</html>
